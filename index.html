<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPTIGA™ Trust M: Architecture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IFX_LOGO_RGB.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPTIGA™ Trust M
   </div>
   <div id="projectbrief">Host Library Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Architecture </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The diagram depicts the Host software stack.</p>
<div class="image">
<img src="XMC_Software_Architecture_Diagram.png" alt=""/>
</div>
<p><br  />
 </p><a class="anchor" id="multi_row"></a>
<table class="doxtable">
<caption></caption>
<tr>
<th>OPTIGA Features </th><th>Curves/Algorithms </th><th>Trust M V1 </th><th>Trust M V3 </th></tr>
<tr>
<td rowspan="3">ECC </td><td>ECC NIST P 256/384 </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td rowspan="1">ECC NIST P 521 </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="1">ECC Brain pool P256/384/512 r1 </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="1">RSA </td><td>RSA 1024/2048 </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td rowspan="3">Key Derivation </td><td>TLS v1.2 PRF SHA 256 </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td rowspan="1">TLS v1.2 PRF SHA 384/512 </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="1">HKDF SHA-256/384/512 </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="1">AES </td><td>AES-128/192/256(ECB, CBC, CBC-MAC, CMAC) </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="1">Random Generation </td><td>TRNG, DRNG, Pre-Master secret for RSA </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td rowspan="1">HMAC </td><td>HMAC with SHA256/384/512 </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="1">Hash </td><td>SHA 256 </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td rowspan="2">Protected Data Update (Integrity) </td><td>ECC NIST P256/384, RSA 1024/2048 </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td rowspan="1">ECC NIST P521, ECC Brain pool P256/384/512 r1 </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="2">Protected Data/Key/Metadata Update (Integrity and-or Confidentiality) </td><td>ECC NIST P256/384/521, RSA 1024/2048 </td><td></td><td>Yes </td></tr>
<tr>
<td rowspan="1">ECC Brain pool P256/384/512 r1 </td><td></td><td>Yes </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>To enable the OPTIGA TRUST M V1 features only, define the macro OPTIGA_TRUST_M_V1. Refer config file <a class="el" href="optiga__lib__config_8h.html" title="This file is defines the compilation switches to build code with required features.">optiga_lib_config.h</a> for further details.</dd></dl>
<p><b>OPTIGA Host Libraries:</b><br  />
 The OPTIGA host libraries constitutes of multiple layers which provides the following functionalities.<br  />
</p><ol type="1">
<li>Service Layer - APIs to interact with OPTIGA security chip for various use-case functionalities(optiga_util and optiga_crypt).<br  />
</li>
<li>Access Layer - Manages the access to the command interface of OPTIGA security chip. It also provides the communication interface to the OPTIGA(optiga_cmd and optiga_comms).<br  />
</li>
<li>Platform Abstraction Layer - Provides platform agnostic interfaces for the underlying HW and SW platform functionalities used by OPTIGA lib libraries.<br  />
</li>
<li>Platform Layer - Provides the platform specific components and libraries for the supported platforms.<br  />
</li>
</ol>
<p><b>OPTIGA Crypt:</b><br  />
 Provides APIs to perform the following usecases using OPTIGA security chip:<br  />
</p><ol type="1">
<li>Random Number Generation<br  />
</li>
<li>Generation of Asymmetric Key pair (Public and Private Key)<br  />
</li>
<li>ECC ( NIST P256/P384/P521 and BrainPool P256r1/P384r1/P521r1 ) and RSA (1024/2048) Signature Generation and Verification<br  />
</li>
<li>Asymmetric Encryption and Decryption of data<br  />
</li>
<li>Pre-Master secret generation<br  />
</li>
<li>Generation of Symmetric Key<br  />
</li>
<li>Symmetric Encryption and Decryption of data in AES-128/192/156 in ECB,CBC,CBC-MAC and CMAC mode<br  />
</li>
<li>Shared Secret Generation<br  />
</li>
<li>Key derivation using PRF and HKDF<br  />
</li>
<li>Hashing (Using SHA256 algorithms)<br  />
</li>
<li>HMAC Generation<br  />
</li>
</ol>
<p><b>OPTIGA Util:</b><br  />
 Provides APIs to perform the following usecases with OPTIGA security chip:<br  />
</p><ol type="1">
<li>OPTIGA application open/restore with close/hibernate option<br  />
</li>
<li>Read/Write general purpose data objects hosted by OPTIGA<br  />
</li>
<li>Read/Write metadata information of general purpose data objects in the OPTIGA<br  />
</li>
<li>Protected Update of data, key objects and metadata of data and key objects<br  />
</li>
<li>Increment counter object<br  />
</li>
</ol>
<p><b>OPTIGA Cmd:</b><br  />
 Provides internal functions to form APDU commands based on user inputs, send it to OPTIGA security chip and returns the required response to the service layer(optiga_util and optiga_crypt).<br  />
 The command library support APDU for the following:<br  />
</p><ol type="1">
<li>Utility functionalities<br  />
</li>
<li>Cryptographic Toolbox functionalities<br  />
</li>
</ol>
<p><b>OPTIGA Comms:</b><br  />
 This layer provides the interface to communicate with OPTIGA using Infineon I2C protocol.<br  />
</p>
<p><b>PAL (Platform Abstraction layer):</b><br  />
 Platform abstraction layer for platform low level drivers like I2C, Timer, GPIO, socket and other platform dependencies. This eases the migration/porting to a different platform.<br  />
</p>
<p><b>Platform Layer:</b><br  />
</p><ol type="1">
<li><b>Crypto Library (Third Party Library):</b><br  />
 Third party crypto library from mbedTLS (v 2.16.0).<br  />
</li>
<li><b>Infineon DAVE 4.4.2:</b><br  />
 DAVE APPs, XMC Library(v 2.1.18) and Keil DFP Pack(v 2.11.0)for XMC4800 IoT Connectivity Kit HW peripherals.<br  />
</li>
<li><b>Keil IDE</b><br  />
 Version 5.25.2.0</li>
</ol>
<p><b>Sample Application:</b><br  />
 Demonstrates the following usecases with and without communication channel protection:<br  />
</p><ol type="1">
<li>Read &amp; Write general purpose data<br  />
</li>
<li>Cryptographic Toolbox<br  />
</li>
<li>Protected Update of data, key objects and metadata is implemented using either data or key objects<br  />
 </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/>
<address class="footer">
<small>
Copyright &#169  2021 Infineon Technologies AG</a>
</small></address>
</body>
</html>
