<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPTIGA™ Trust M  Host Library Documentation: usb_task.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DoxygenLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPTIGA™ Trust M  Host Library Documentation
   &#160;<span id="projectnumber">v3.00.2490</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Model/APPS/USBD/v4_0_14/Templates/usb/core/usb_task.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2common_2common_8h_source.html">../common/common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__mode_8h_source.html">usb_mode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__controller_8h_source.html">usb_controller.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2events_8h_source.html">events.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2std__request__type_8h_source.html">std_request_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2std__descriptors_8h_source.html">std_descriptors.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2endpoint_8h_source.html">endpoint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2device_8h_source.html">device.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Model/APPS/USBD/v4_0_14/Templates/usb/core/usb_task.h:</div>
<div class="dyncontent">
<div class="center"><img src="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h__incl.png" border="0" usemap="#ausb__task_8h" alt=""/></div>
<map name="usb__task_8h" id="usb__task_8h">
<area shape="rect" title=" " alt="" coords="379,5,466,32"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2common_2common_8h.html" title=" " alt="" coords="409,483,559,509"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__mode_8h.html" title=" " alt="" coords="396,401,489,427"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__controller_8h.html" title=" " alt="" coords="43,319,157,345"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2events_8h.html" title=" " alt="" coords="542,319,613,345"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2std__request__type_8h.html" title=" " alt="" coords="836,319,969,345"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2std__descriptors_8h.html" title=" " alt="" coords="541,237,664,263"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2endpoint_8h.html" title=" " alt="" coords="316,155,399,181"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2device_8h.html" title=" " alt="" coords="551,80,620,107"/>
<area shape="rect" title=" " alt="" coords="203,557,269,584"/>
<area shape="rect" title=" " alt="" coords="293,557,358,584"/>
<area shape="rect" title=" " alt="" coords="383,557,457,584"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2common_2compiler__specific_8h.html" title=" " alt="" coords="481,557,615,584"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2common_2attributes_8h.html" title=" " alt="" coords="639,557,726,584"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2common_2endianness_8h.html" title=" " alt="" coords="751,557,849,584"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2xmc4000_2usbd__endpoint__xmc4000_8h.html" title=" " alt="" coords="144,229,315,271"/>
<area shape="rect" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2xmc4000_2usbd__device__xmc4000_8h.html" title=" " alt="" coords="615,393,774,435"/>
</map>
</div>
</div>
<p><a href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a79a1f5e236677325266fb00f43a2e0a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h.html#a79a1f5e236677325266fb00f43a2e0a9">USB_Device_ProcessControlRequest</a> (void)</td></tr>
<tr class="separator:a79a1f5e236677325266fb00f43a2e0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4059f84a2fc0b926c31868c744f5853"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h.html#ac4059f84a2fc0b926c31868c744f5853">USB_USBTask</a> (void)</td></tr>
<tr class="separator:ac4059f84a2fc0b926c31868c744f5853"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adf52dcb1f8b7460435e3f2eb90953aba"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h.html#adf52dcb1f8b7460435e3f2eb90953aba">USB_IsInitialized</a></td></tr>
<tr class="separator:adf52dcb1f8b7460435e3f2eb90953aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163f314e8c098f06c8d0d8f25758adc9"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="Generated_2USBD_2usb_2core_2std__request__type_8h.html#a9eb92d3e597e89c83ca47b8d01463d31">USB_Request_Header_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h.html#a163f314e8c098f06c8d0d8f25758adc9">USB_ControlRequest</a></td></tr>
<tr class="separator:a163f314e8c098f06c8d0d8f25758adc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93cfb28bc1114dd98fb4184e95229eaf"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h.html#a93cfb28bc1114dd98fb4184e95229eaf">USB_DeviceState</a></td></tr>
<tr class="separator:a93cfb28bc1114dd98fb4184e95229eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>2015-06-20 NOTE: This file is generated by DAVE. Any manual modification done to this file will be lost when the code is regenerated. </dd></dl>

<p class="definition">Definition in file <a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2usb__task_8h_source.html">Model/APPS/USBD/v4_0_14/Templates/usb/core/usb_task.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a79a1f5e236677325266fb00f43a2e0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a1f5e236677325266fb00f43a2e0a9">&#9670;&nbsp;</a></span>USB_Device_ProcessControlRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB_Device_ProcessControlRequest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac4059f84a2fc0b926c31868c744f5853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4059f84a2fc0b926c31868c744f5853">&#9670;&nbsp;</a></span>USB_USBTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB_USBTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the main USB management task. The USB driver requires this task to be executed continuously when the USB system is active (device attached in host mode, or attached to a host in device mode) in order to manage USB communications. This task may be executed inside an RTOS, fast timer ISR or the main user application loop.</p>
<p>The USB task must be serviced within 30ms while in device mode, or within 1ms while in host mode.The task may be serviced at all times, or (for minimum CPU consumption):</p>
<ul>
<li>In device mode, it may be disabled at start-up, enabled on the firing of the <a class="el" href="Generated_2USBD_2usb_2core_2events_8h.html#aeff97648c9250a3d398bb0b74f040899">EVENT_USB_Device_Connect()</a> event and disabled again on the firing of the <a class="el" href="Generated_2USBD_2usb_2core_2events_8h.html#ae88405d14d8d6dada9313520cb1501ec">EVENT_USB_Device_Disconnect()</a> event.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd>Group_Events for more information on the USB events. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a163f314e8c098f06c8d0d8f25758adc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163f314e8c098f06c8d0d8f25758adc9">&#9670;&nbsp;</a></span>USB_ControlRequest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="Generated_2USBD_2usb_2core_2std__request__type_8h.html#a9eb92d3e597e89c83ca47b8d01463d31">USB_Request_Header_t</a> USB_ControlRequest</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Structure containing the last received Control request when in Device mode (for use in user-applications inside of the <a class="el" href="Generated_2USBD_2usb_2core_2events_8h.html#a3f4ce439a74a152e3c8ffda5c7dd201a">EVENT_USB_Device_ControlRequest()</a> event, * </p><dl class="section note"><dt>Note</dt><dd>The contents of this structure is automatically endian- corrected for the current CPU architecture. </dd></dl>

</div>
</div>
<a id="a93cfb28bc1114dd98fb4184e95229eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93cfb28bc1114dd98fb4184e95229eaf">&#9670;&nbsp;</a></span>USB_DeviceState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t USB_DeviceState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates the current device state machine state. When in device mode, this indicates the state via one of the values of the <a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2device_8h.html#a86f959954d90ef0227bc217d1473ccfa">USB_Device_States_t</a> enum values.</p>
<p>This value should not be altered by the user application as it is handled automatically by the library. The only exception to this rule is if the NO_LIMITED_CONTROLLER_CONNECT token is used (see <a class="el" href="Generated_2USBD_2usb_2core_2events_8h.html#aeff97648c9250a3d398bb0b74f040899">EVENT_USB_Device_Connect()</a> and <a class="el" href="Generated_2USBD_2usb_2core_2events_8h.html#ae88405d14d8d6dada9313520cb1501ec">EVENT_USB_Device_Disconnect()</a> events).</p>
<dl class="section attention"><dt>Attention</dt><dd>This variable should be treated as read-only in the user application, and never manually changed in value except in the circumstances outlined above.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This global is only present if the user application can be a USB device. <br  />
<br  />
 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usb_2core_2device_8h.html#a86f959954d90ef0227bc217d1473ccfa">USB_Device_States_t</a> for a list of possible <a class="el" href="Model_2APPS_2USBD_2v4__0__14_2Templates_2usbd__extern_8h.html#a96f7516d7be552f1199d585622e1170f" title="Gloabal USBD_Device_t structure describing the device.">device</a> states. </dd></dl>

</div>
</div>
<a id="adf52dcb1f8b7460435e3f2eb90953aba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf52dcb1f8b7460435e3f2eb90953aba">&#9670;&nbsp;</a></span>USB_IsInitialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool USB_IsInitialized</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates if the USB interface is currently initialized but not necessarily connected to a host or device (i.e. if USB_Init() has been run). If this is false, all other library globals related to the USB driver are invalid.</p>
<dl class="section attention"><dt>Attention</dt><dd>This variable should be treated as read-only in the user application, and never manually changed in value. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/>
<address class="footer">
<small>
Copyright &#169  2020 Infineon Technologies AG</a>
</small></address>
</body>
</html>
